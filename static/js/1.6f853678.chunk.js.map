{"version":3,"sources":["Components/AccioAnimation.js"],"names":["AccioAnimation","props","_this","Object","_Users_yd_Desktop_React_Apps_yinduo_profile_page_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_yd_Desktop_React_Apps_yinduo_profile_page_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_yd_Desktop_React_Apps_yinduo_profile_page_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","setAnimationMessageIsHidden","setState","AnimationMessageIsHidden","attachAnimation","undefined","accioAnimationContainer","animationProperties","container","renderer","loop","autoplay","autoloadSegments","animationData","AccioAnimationJson","anim","bodymovin","loadAnimation","addEventListener","initAnimation","readyAnimation","setSpeed","isAnimating","isSwirling","swirlingRight","removeEventListener","stop","goToAndStop","playSegments","castAccioSpell","toggleRevealingItem","castAccioSpellComplete","style","display","toggleAnimationIsPlayed","state","LanguageData","English","message","Chinese","_this2","_this$state","currentLanguage","CurrentLanguage","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","ref","el","onClick","Component"],"mappings":"wMAKMA,sBAEF,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAmBVQ,4BAA8B,WAC1BP,EAAKQ,SAAS,CAACC,0BAA0B,KArB1BT,EAwBnBU,gBAAkB,WACd,QAAqCC,IAAjCX,EAAKY,wBAAuC,CAC5C,IAAMC,EAAsB,CAC1BC,UAAWd,EAAKY,wBAChBG,SAAU,MACVC,MAAM,EACNC,UAAU,EACVC,kBAAkB,EAClBC,cAAeC,GAGjBpB,EAAKqB,KAAOC,IAAUC,cAAcV,GACpCb,EAAKqB,KAAKG,iBAAiB,YAAYxB,EAAKyB,eAC5CzB,EAAKY,wBAAwBY,iBAAiB,YAAaxB,EAAK0B,gBAChE1B,EAAKY,wBAAwBY,iBAAiB,WAAYxB,EAAKyB,eAC/DzB,EAAKqB,KAAKM,SAAS,IACnB3B,EAAK4B,aAAc,EACnB5B,EAAK6B,YAAa,EAClB7B,EAAK8B,eAAgB,IA1CV9B,EA8CnByB,cAAgB,WACTzB,EAAK6B,YACN7B,EAAK6B,YAAa,EAClB7B,EAAKqB,KAAKU,oBAAoB,eAAe/B,EAAK0B,gBAClD1B,EAAKqB,KAAKW,QAEVhC,EAAKqB,KAAKY,YAAY,KAAK,IApDdjC,EAwDnB0B,eAAiB,WACT1B,EAAK6B,aACP7B,EAAK6B,YAAa,EAClB7B,EAAKqB,KAAKG,iBAAiB,eAAexB,EAAK0B,iBAE9C1B,EAAK8B,eACP9B,EAAK8B,eAAgB,EACrB9B,EAAKqB,KAAKa,aAAa,CAAC,IAAI,KAAI,KAG/BlC,EAAK8B,eAAgB,EACrB9B,EAAKqB,KAAKa,aAAa,CAAC,GAAG,MAAK,KAnEnBlC,EAuEnBmC,eAAiB,WACVnC,EAAK4B,cAGL5B,EAAK6B,aACN7B,EAAKqB,KAAKU,oBAAoB,eAAe/B,EAAK0B,gBAClD1B,EAAK6B,YAAa,GAEpB7B,EAAK4B,aAAc,EACnB5B,EAAKO,8BACLP,EAAKY,wBAAwBmB,oBAAoB,YAAa/B,EAAK0B,gBACnE1B,EAAKY,wBAAwBmB,oBAAoB,WAAY/B,EAAKyB,eAClEzB,EAAKqB,KAAKM,SAAS,GACnB3B,EAAKqB,KAAKa,aAAa,CAAC,GAAG,MAAK,GAChClC,EAAKD,MAAMqC,qBAAoB,GAC/BpC,EAAKqB,KAAKG,iBAAiB,eAAexB,EAAKqC,0BAtFhCrC,EAyFnBqC,uBAAyB,WACrBrC,EAAKqB,KAAKW,OACPhC,EAAKY,0BACJZ,EAAKY,wBAAwB0B,MAAMC,QAAU,QAEjDvC,EAAK4B,aAAc,EACnB5B,EAAKqB,KAAKU,oBAAoB,eAAe/B,EAAKqC,wBAClDrC,EAAKD,MAAMyC,yBAAwB,IAhGpB,OAUfxC,EAAKyC,MAAQ,CACThC,0BAA0B,EAC1BiC,aAViB,CACjBC,QAAW,CACPC,QAAS,mCAEbC,QAAW,CACPD,QAAS,gDAPF5C,mFAiBfG,KAAKO,mDAoFA,IAAAoC,EAAA3C,KAAA4C,EAC2C5C,KAAKsC,MAA9ChC,EADFsC,EACEtC,yBACDuC,EAFDD,EAC2BL,aACKvC,KAAKJ,MAAMkD,iBAChD,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAW,6BAA+B5C,EAA2B,uCAAyC,KAAMuC,EAAgBJ,SACzIM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXC,IAAK,SAACC,GAAQT,EAAKlC,wBAA0B2C,GAC7CC,QAASrD,KAAKgC,yBA/GLsB,cAsHd3D","file":"static/js/1.6f853678.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport bodymovin from 'bodymovin';\nimport AccioAnimationJson from '../images/AccioAnimation.json';\nimport \"../styles/AccioAnimation.scss\";\n\nclass AccioAnimation extends Component {\n\n    constructor(props) {\n        super(props);\n        const LanguageData = {\n            \"English\": {\n                message: \"“You know what to do”\"\n            },\n            \"Chinese\": {\n                message: \"“请点击魔杖”\"\n            }\n        }\n        this.state = {\n            AnimationMessageIsHidden: false,\n            LanguageData: LanguageData\n        }\n    }\n\n    componentDidMount() {\n        this.attachAnimation()\n    }\n\n    setAnimationMessageIsHidden = () => {\n        this.setState({AnimationMessageIsHidden: true})\n    }\n\n    attachAnimation = () => {\n        if (this.accioAnimationContainer !== undefined) {\n            const animationProperties = {\n              container: this.accioAnimationContainer,\n              renderer: 'svg',\n              loop: true,\n              autoplay: false,\n              autoloadSegments: false,\n              animationData: AccioAnimationJson\n            }\n            \n            this.anim = bodymovin.loadAnimation(animationProperties);\n            this.anim.addEventListener('DOMLoaded',this.initAnimation);\n            this.accioAnimationContainer.addEventListener('mouseover', this.readyAnimation);\n            this.accioAnimationContainer.addEventListener('mouseout', this.initAnimation);\n            this.anim.setSpeed(0.2);\n            this.isAnimating = false;\n            this.isSwirling = false;\n            this.swirlingRight = true;\n          }\n    }\n\n    initAnimation = () => {\n        if(this.isSwirling) {\n          this.isSwirling = false;\n          this.anim.removeEventListener('loopComplete',this.readyAnimation);\n          this.anim.stop();\n        } else {\n          this.anim.goToAndStop(6.5, true);\n        }\n    }\n\n    readyAnimation = () => {\n        if(!this.isSwirling) {\n          this.isSwirling = true;\n          this.anim.addEventListener('loopComplete',this.readyAnimation);\n        }\n        if(this.swirlingRight) {\n         this.swirlingRight = false;\n         this.anim.playSegments([6.5,18],true);\n        }\n        else {\n          this.swirlingRight = true;\n          this.anim.playSegments([18,6.5],true);\n        }\n    }\n\n    castAccioSpell = () => {\n        if(this.isAnimating){\n                return;\n        }\n        if(this.isSwirling) {\n          this.anim.removeEventListener('loopComplete',this.readyAnimation);\n          this.isSwirling = false;\n        }\n        this.isAnimating = true;\n        this.setAnimationMessageIsHidden();\n        this.accioAnimationContainer.removeEventListener('mouseover', this.readyAnimation);\n        this.accioAnimationContainer.removeEventListener('mouseout', this.initAnimation);\n        this.anim.setSpeed(1);\n        this.anim.playSegments([10,100],true);\n        this.props.toggleRevealingItem(true);\n        this.anim.addEventListener('loopComplete',this.castAccioSpellComplete);\n    }\n\n    castAccioSpellComplete = () => {\n        this.anim.stop();\n        if(this.accioAnimationContainer) {\n            this.accioAnimationContainer.style.display = \"none\"\n        }\n        this.isAnimating = false;\n        this.anim.removeEventListener('loopComplete',this.castAccioSpellComplete);\n        this.props.toggleAnimationIsPlayed(true);\n      }\n\n\n\n    render() {\n        const {AnimationMessageIsHidden,LanguageData} = this.state;\n        const currentLanguage = LanguageData[this.props.CurrentLanguage];\n        return (\n            <div className=\"Accio__Animation__Parent__Container\">\n                <div className={\"Accio__Animation__Message\" + (AnimationMessageIsHidden ? \" Accio__Animation__Message-is-hidden\" : \"\")}>{currentLanguage.message}</div>\n                <div className=\"Accio__Animation__Container\" \n                    ref={(el) => {this.accioAnimationContainer = el}}\n                    onClick={this.castAccioSpell}>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default AccioAnimation;"],"sourceRoot":""}